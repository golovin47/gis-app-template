apply plugin: 'com.android.application'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

android {
    compileSdkVersion Version.compileSdkVersion
    defaultConfig {
        applicationId "com.gis.jetpackplayground"
        minSdkVersion Version.minSdk
        targetSdkVersion Version.targetSdk
        versionCode 1
        versionName "1.0"
        testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    }
    buildTypes {
        debug {
            minifyEnabled false
        }

        release {
            minifyEnabled true
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

    flavorDimensions "default"

    productFlavors {
        stage {
            dimension "default"
            buildConfigField "String", "BASE_URL", '"https://api.thecatapi.com/"'
            buildConfigField "String", "API_KEY", '"0cfc7c44-2fe0-4e7c-941d-3557696f7ac6"'
        }

        prod {
            dimension "default"
            buildConfigField "String", "BASE_URL", '"https://api.thecatapi.com/"'
            buildConfigField "String", "API_KEY", '"0cfc7c44-2fe0-4e7c-941d-3557696f7ac6"'
        }
    }

    dataBinding {
        enabled = true
    }
}

dependencies {
    implementation fileTree(dir: 'libs', include: ['*.jar'])
    implementation project(':repoApi')
    implementation project(':repoImpl')
    implementation project(':startscreenApi')
    implementation project(':startscreenImpl')
    implementation project(':catsApi')
    implementation project(':catsImpl')
    implementation project(':loginApi')
    implementation project(':loginImpl')
    implementation project(':navigationApi')
    implementation project(':navigationImpl')
    implementation project(':utils')

    implementation Deps.kotlinStdlib
    implementation Deps.appCompat

    implementation Deps.rxJava
    implementation Deps.rxKotlin
    implementation Deps.rxAndroid

    implementation Deps.navigationFragment
    implementation Deps.navigationUI

    implementation Deps.glide
    implementation Deps.glideOkHttp3
    kapt Deps.glideCompiler

    implementation Deps.koinCore
    implementation Deps.koinAndroid
    implementation Deps.koinCoreScope
    implementation Deps.koinAndroidViewModel

    testImplementation Deps.jUnit
    androidTestImplementation Deps.androidTestRunner
    androidTestImplementation Deps.espresso
}
repositories {
    mavenCentral()
}
